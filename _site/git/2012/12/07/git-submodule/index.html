<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>git submodule 学习笔记</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <script src="/javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
      <h1 class="header"><a href=/>ChinaXing</a></h1>
      <ul>
        <li><a class="buttons github" href="https://github.com/chinaxing">github profile</a></li>
      </ul>
      <p class="header">文章分类</p>
      <ul>
        
        <li>
        <a href="/categories/jekyll/">jekyll</a>
        <span style="float:right">[2]</span>
        </li>
        
        <li>
        <a href="/categories/github/">github</a>
        <span style="float:right">[2]</span>
        </li>
        
        <li>
        <a href="/categories/git/">git</a>
        <span style="float:right">[1]</span>
        </li>
        
        <li>
        <a href="/categories/life/">life</a>
        <span style="float:right">[1]</span>
        </li>
        
      </ul>
      </header>
      <section>
      <h1 style="border:0;text-align:center;color:#C3001D;font-weight:bold">
  git submodule 学习笔记
</h1>
<h3>git help 解释:</h3>

<pre><code>git-submodule - Initialize, update or inspect submodules
</code></pre>

<h3>说明:</h3>

<p>  git 中的submodule是为了解决项目中依赖别的库，submodule即为依赖的库，方便库的更新，管理。</p>

<p>  每个submodule都是一个库，这样可以看到一个大的仓库中包含小的若干仓库，在实际开发中是常见的。</p>

<h3>命令:</h3>

<pre><code>git submodule add 
git submodule init
git submodule update

git submodule summary
...
</code></pre>

<p>  这些命令完成submodule的添加，初始化(注册到本仓库，然后可以被跟踪到)，更新仓库内容，查看摘要等。纤细的命令可以通过
<code>git submodule --help</code>获得</p>

<h3>内部机制：</h3>

<p>   git 的主仓库对于submodule的管理是通过如下文件来进行:<code>.gitmodules</code>,<code>.git/config</code>,<code>.git/modules/</code></p>

<ul>
<li><p>.gitmodules 内容如下:</p>

<p>[submodule "libs/lib2"]</p>

<pre><code>    path = libs/lib2
    url = ../../repos/lib2.git
</code></pre></li>
</ul>


<p>   这个文件在git submodule add的时候生成</p>

<ul>
<li><p>.git/config 在git submodule init 的时候生成</p></li>
<li><p>.git/modules/ 在git submodule add的时候生成，里面是submodule的内容</p></li>
</ul>


<p>  主仓库根据submodule的commit ID来跟踪submodule。</p>

<p>  当submodule做了commit的或者work tree改动的时候，主仓库能够通过git status查看到。需要在主仓库再commit一下，
更新主仓库引用的submodule的 commit ID。</p>


<div id="disqus_thread" style="padding-top:3em"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'chinaxing'; // required: replace example with your forum shortname

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


      </section>
      <footer>
      <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
</html>
