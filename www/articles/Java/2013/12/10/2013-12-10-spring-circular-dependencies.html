<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Spring circular dependencies -循环引用/依赖解决方法 - The Chinaxing's blog
    </title>
    <link rel="stylesheet" href="/css/styles.css">
    <script type="text/javascript" src="/js/index.js"></script>
  </head>
  <body>
    <header id="header">
      <div id="menu">
        <div id="menu-header"><a id="site-name" href="/">ChinaXing</a><a id="github-icon" data-icon="&#xf00a" title="View Github profile" href="http://github.com/ChinaXing/"></a></div>
        <ul id="menu-list">
          <li><a href="/Perl/index.html">Perl<sup>22</sup></a></li>
          <li><a href="/Postgres/index.html">Postgres<sup>2</sup></a></li>
          <li><a href="/Python/index.html">Python<sup>1</sup></a></li>
          <li class="active"><a href="/Java/index.html">Java<sup>8</sup></a></li>
          <li><a href="/Life/index.html">Life<sup>2</sup></a></li>
          <li><a href="/Linux/index.html">Linux<sup>25</sup></a></li>
        </ul>
        <!-- vistor map-->
        <div id="clustrmaps-widget"></div>
      </div>
    </header>
    <section id="content">
      <h2 style="text-align:center">Spring circular dependencies -循环引用/依赖解决方法
      </h2>
      <div id="toc">Table of Content
        <ol></ol>
      </div>
      <div class="tech">

<p>
<a href="http://docs.spring.io/spring/docs/3.0.0.M3/reference/html/ch04s03.html">出处</a>
</p>
<p>
Circular&nbsp;dependencies
</p>
<p>
If you are using predominantly constructor injection it is possible to write and configure your classes and beans such that an unresolvable circular dependency scenario is&nbsp;created.
</p>
<p>
Consider the scenario where you have class A, which requires an instance of class B to be provided via constructor injection, and class B, which requires an instance of class A to be provided via constructor injection. If you configure beans for classes A and B to be injected into each other, the Spring IoC container will detect this circular reference at runtime, and throw a&nbsp;BeanCurrentlyInCreationException.
</p>
<p>
One possible solution to this issue is to edit the source code of some of your classes to be configured via setters instead of via constructors. Another solution is not to use constructor injection and stick to setter injection only. In other words, while it should generally be avoided in all but the rarest of circumstances, it is possible to configure circular dependencies with setter&nbsp;injection.
</p>
<p>
Unlike the typical case (with no circular dependencies), a circular dependency between bean A and bean B will force one of the beans to be injected into the other prior to being fully initialized itself (a classic chicken/egg&nbsp;scenario).
</p>


      </div>
      <!-- Table of Content-->
      <script src="http://code.jquery.com/jquery-1.9.0.min.js" charset="utf-8"></script>
      <script src="/js/tableofcontents.js" charset="utf-8"></script>
      <script charset="utf-8">
        $(function(){
          $("#toc>ol").tableOfContents(
           null,
           {
             startLevel: 3,
             depth:3,
             topLinks: "\u21E7",
             topLinkClass: "toc-top-link",
             topBodyId: "toc-top",
          });
        });
        
      </script>
      <!-- Google Plus--><br>
      <!-- Place this tag where you want the +1 button to render.-->
      <div data-size="medium" class="g-plusone"></div>
      <!--google plus-->
      <!-- Place this tag after the last +1 button tag.-->
      <script>
        window.___gcfg = {lang: 'zh-CN'};
        
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/plusone.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
        
        
      </script>
      <!-- DISQUS-->
      <div id="disqus_thread" style="padding-top:1em"></div>
      <script>
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'chinaxing'; // required: replace example with your forum shortname
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus</a></noscript><a id="dsq-brlink" href="http://disqus.com">comments powered by<span class="logo-disqus">Disqus</span></a>
    </section>
    <footer>
    </footer>
  </body>
  <!-- google Analytics-->
  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37422195-1']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  <!-- clusterMaps-->
  <script>
    var _clustrmaps = {
     'url' : 'http://chinaxing.org', 
     'user' : 1103575, 
     'server' : '2',
     'id' : 'clustrmaps-widget', 
      'version' : 1, 
     'date' : '2013-07-14',
     'lang' : 'zh',
     'corners' : 'square' 
    };
    (function (){
      var s = document.createElement('script'); 
      s.type = 'text/javascript'; 
      s.async = true; 
      s.src = 'http://www2.clustrmaps.com/counter/map.js'; 
      var x = document.getElementsByTagName('script')[0]; 
      x.parentNode.insertBefore(s, x);})();
  </script>
  <noscript>
    a(href="http://www2.clustrmaps.com/user/f0710d6d7")
      img(src="http://www2.clustrmaps.com/stats/maps-no_clusters/chinaxing.org-thumb.jpg", alt="Locations of visitors to this page")
  </noscript>
</html>