<p>如果数据库和表已经存在，则我们不需要手动创建Schema，可以使用<a href='http://search.cpan.org/~rkitover/DBIx-Class-Schema-Loader-0.07033/lib/DBIx/Class/Schema/Loader.pm'>DBIx::Class::Schema::Loader</a>这个模块来自动生成Schema.</p>

<h3 id='id28'>下面是几种方法：</h3>

<ul>
<li>
<p>使用make_schema_at 方法</p>

<pre><code> perl -MDBIx::Class::Schema::Loader=make_schema_at &lt;&lt;EOF
 make_schema_at({
    &#39;My::Schema&#39;,
    { debug =&gt;1, dump_directory =&gt; &#39;./&#39;},
    [ &#39;dbi:Pg:dbname=&quot;pesystem&quot;&#39;,&#39;pesystem&#39;,&#39;pesystem_password&#39; ],
 });
 EOF</code></pre>
</li>

<li>
<p>使用dbicdump工具<br />该工具其实内部使用了DBIx::Class::Schema::Loader模块.</p>

<pre><code> dbicdump -o dump_directory=&#39;./&#39; My::Schema &#39;dbi:Pg:dbname=&quot;pesystem&quot; &quot;pesystem&quot; &quot;pesystem_password&quot;</code></pre>
</li>

<li>
<p>使用dump_to_dir方法，如果你的Schema模块已经写好.<br />让模块继承DBIx::Class::Schema::Loader,然后执行:</p>

<pre><code> #My/Schema.pm
 pakcage My::Schema;
 use base qw/DBIx::Class::Schema::Loader/;
 1;

 perl -MDBIx::Class::Schema::Loader=dump_to_dir:./ -MMy::Schema \
     -e &#39;My::Schema-&gt;connection(&quot;dbi:Pg:dbname=pesystem&quot;,&quot;pesystem&quot;,&quot;pesystem_password&quot;)&#39;
 # or 
 use My::Schema;
 My::Schema-&gt;dump_to_dir(&#39;./&#39;);
 My::Schema-&gt;connection(...);</code></pre>

<p>参见:<a href='http://search.cpan.org/~rkitover/DBIx-Class-Schema-Loader-0.07033/lib/DBIx/Class/Schema/Loader.pm#dump_to_dir'>http://search.cpan.org/~rkitover/DBIx-Class-Schema-Loader-0.07033/lib/DBIx/Class/Schema/Loader.pm#dump_to_dir</a></p>

<p>继承DBIx::Class::Schema::Loader后，每次连接都会进行扫描数据库获取Schema.</p>
</li>
</ul>

<h3 id='id29'>比较：</h3>

<p>使用dbicdump工具比较简单易用.</p>